# Java 中垃圾回收机制中如何判断对象需要回收？常见的 GC 回收算法有哪些？ #

Java中垃圾回收机制判断对象是否需要回收的主流算法是“可达性分析算法”

常见的GC回收算法：

1.标记-清除算法  
该算法先标记，后清除，将所有需要回收的算法进行标记，然后清除；这种算法的缺点是：效率比较低；标记清除后会出现大量不连续的内存碎片，这些碎片太多可能会使存储大对象会触发GC回收，造成内存浪费以及时间的消耗  
2.复制算法  
复制算法将可用的内存分成两份，每次使用其中一块，当这块回收之后把未回收的复制到另一块内存中，然后把使用的清除。这种算法运行简单，解决了标记-清除算法的碎片问题，但是这种算法代价过高，需要将可用内存缩小一半，对象存活率较高时，需要持续的复制工作，效率比较低。  
3.标记整理算法  
标记整理算法是针对复制算法在对象存活率较高时持续复制导致效率较低的缺点进行改进的，该算法是在标记-清除算法基础上，不直接清理，而是使存活对象往一端游走，然后清除一端边界以外的内存，这样既可以避免不连续空间出现，还可以避免对象存活率较高时的持续复制。这种算法适合老生代。  
4.分代收集算法  
分代收集算法就是目前虚拟机使用的回收算法，它解决了标记整理不适用于新年代的问题，将内存分为各个年代，在不同年代使用不同的算法，从而使用最合适的算法，新生代存活率低，可以使用复制算法。而老年代对象存活率高，没有额外空间对它进行分配担保，所以使用标记整理算法。

参考文档： 
[https://www.wolai.com/river1235r/ukZivkduwCCkYN4cWBq5Xz](https://www.wolai.com/river1235r/ukZivkduwCCkYN4cWBq5Xz)