什么是TCP粘包和拆包？
1.粘包：
如果通讯的一端一次性连续发送多条数据包，tcp协议会将多个数据包打包成一个tcp报文发送出去。
2.拆包：
如果通讯的一端发送的数据包超过一次tcp报文所能传输的最大值时，就会将一个数据包拆成多个最大tcp长度的tcp报文分开传输。

MTU:最大传输单元，1500字节数据帧
MSS：最大TCP报文长度，1500- 20(IP Header) -20 (TCP Header) = 1460 byte

3.出现粘包的原因?
（1）要发送的数据小于TCP发送缓冲区的大小，TCP将多次写入缓冲区的数据一次发送出去；
（2）接收数据端的应用层没有及时读取接收缓冲区中的数据；
（3）数据发送过快，数据包堆积导致发送端缓冲区积压多个数据后才一次性发送出去(如果客户端每发送一条数据就睡眠一段时间就不会发生粘包)；

4.出现拆包的原因？
（1）数据包太大，超过MSS的大小
（2）数据表太大，超过MTU的大小

5.解决方案
（1）消息数据的定长，比如定长100字节，不足补空格，接收方收到后解析100字节数据即为完整数据。但这样的做的缺点是浪费了部分存储空间和带宽。
（2）消息数据使用特定分割符区分界限，比如使用换号符号做分割。
（3）把消息数据分成消息头和消息体，消息头带消息的长度，接收方收到后根据消息头中的长度解析数据。


参考文档：
https://www.wolai.com/river1235r/ffpktoYR9wU9EdpQry7JJu